var L=Object.defineProperty;var b=(n,e,t)=>e in n?L(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var u=(n,e,t)=>(b(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();class f{constructor(e="",t="",r=!1,s=!1){this._id=e,this._item=t,this._checked=r,this._isImportant=s}get id(){return this._id}set id(e){this._id=e}get item(){return this._item}set item(e){this._item=e}get checked(){return this._checked}set checked(e){this._checked=e}get isImportant(){return this._isImportant}set isImportant(e){this._isImportant=e}}const m=class m{constructor(e=[]){u(this,"_searchedItemsValue");this._list=e,this._searchedItemsValue=""}get listItems(){return this._list}get searchedListItems(){return this.listItems.filter(e=>e.item.toLowerCase().includes(this._searchedItemsValue.toLowerCase()))}get searchedItemsValue(){return this._searchedItemsValue}set searchedItemsValue(e){this._searchedItemsValue=e}load(){const e=localStorage.getItem("myList");if(typeof e!="string")return;JSON.parse(e).forEach(r=>{const s=new f(r._id,r._item,r._checked,r._isImportant);this.add(s)})}save(){localStorage.setItem("myList",JSON.stringify(this._list))}add(e){this._list.push(e),this.save()}update(e){this._list=this._list.map(t=>t.id===e.id?e:t),this.save()}removeItem(e){this._list=this._list.filter(t=>t.id!==e),this.save()}clear(){this._list=[],this.save()}};u(m,"instance",new m);let p=m;const _=()=>{var t;document.querySelector(".overlay")&&console.log("ahmed nabil");const n=document.createElement("div");n.className="overlay";const e=document.createElement("div");e.className="message",e.innerHTML=`
                                <div>Are you sure to update item?</div>
                                <input class='update-input' type='text' value=""/>
                                <div>
                                    <button class="yes">Yes</button>
                                    <button class="no">No</button>
                                </div>

                            `,n.appendChild(e),(t=document.getElementById("app"))==null||t.appendChild(n)},h=class h{constructor(){u(this,"ul");this.ul=document.getElementById("list-items")}render(e){if(this.ul.innerHTML="",e.searchedListItems.length)e.searchedListItems.forEach(t=>{const r=document.createElement("li"),s=document.createElement("input");s.type="checkbox",s.id=t.id,s.tabIndex=0,s.checked=t.checked,r.append(s),s.addEventListener("change",()=>{t.checked=!t.checked,e.save()});const a=document.createElement("label");a.htmlFor=t.id,a.textContent=t.item,r.appendChild(a);const i=document.createElement("div");i.className="buttons-div";const o=document.createElement("button");o.className=t.isImportant?"important-button important":"important-button",o.innerHTML='<i class="fa-solid fa-star"></i>',o.ariaLabel="Important Mark Button",o.addEventListener("click",()=>{t.isImportant=!t.isImportant,o.classList.toggle("important"),e.save()}),i.appendChild(o);const c=document.createElement("button");c.id=t.id,c.className="update-button",c.innerHTML='<i class="fa-solid fa-pen"></i>',c.ariaLabel="Update Button",c.addEventListener("click",()=>{_();const l=document.querySelector(".update-input");l.focus(),l.value=t.item,document.querySelector(".message").addEventListener("click",E=>{var y,g;const I=E.target;I.classList.contains("yes")&&l.value!==t.item&&l.value?(console.log("ahmed"),t.item=l.value,a.textContent=l.value,e.save(),(y=document.querySelector(".overlay"))==null||y.remove()):(I.classList.contains("no")||l.value===t.item)&&((g=document.querySelector(".overlay"))==null||g.remove())})}),i.appendChild(c);const d=document.createElement("button");d.className="delete-button",d.innerHTML='<i class="fa-solid fa-trash"></i>',d.ariaLabel="Delete Button",d.addEventListener("click",()=>{e.removeItem(t.id),this.render(e)}),i.appendChild(d),r.appendChild(i),this.ul.appendChild(r)});else{const t=document.createElement("p");t.style.cssText="text-align:center; margin:2rem; color:red; font-size:1.5rem",e.listItems.length?t.textContent="The Item Not Found":t.textContent="The List Is Empty",this.ul.append(t)}}};u(h,"instance",new h);let v=h;const C=()=>{var i;const n=p.instance,e=v.instance;n.load(),e.render(n);const t=document.getElementById("add-entry-item");let r=document.querySelector(".add-item");t.addEventListener("input",()=>{r.disabled=!t.value.trim()}),document.getElementById("itemEntryForm").addEventListener("submit",o=>{o.preventDefault();const c=n.listItems.length?Number(n.listItems[n.listItems.length-1].id)+1:1,d=new f(c.toString(),t.value.slice(0,25));console.log(t.value.slice(0,25)),t.value="",t.focus(),r.disabled=!0,n.add(d),e.render(n)}),document.getElementById("search-item").addEventListener("input",o=>{const c=o.target;n.searchedItemsValue=c.value,e.render(n)}),(i=document.getElementById("clear"))==null||i.addEventListener("click",()=>{n.clear(),e.render(n)})};document.addEventListener("DOMContentLoaded",C);
