var T=Object.defineProperty;var C=(c,e,t)=>e in c?T(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var h=(c,e,t)=>(C(c,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();class _{constructor(e="",t="",n=!1,s=!1,a=new Date().toLocaleString()){this._id=e,this._item=t,this._checked=n,this._isImportant=s,this._date=a}get id(){return this._id}set id(e){this._id=e}get item(){return this._item}set item(e){this._item=e}get checked(){return this._checked}set checked(e){this._checked=e}get isImportant(){return this._isImportant}set isImportant(e){this._isImportant=e}get date(){return this._date}set date(e){this._date=e}}const v=class v{constructor(e=[]){h(this,"_searchedItemsValue");this._list=e,this._searchedItemsValue=""}get listItems(){return this._list}set listItems(e){this._list=e}get searchedListItems(){return this.listItems.filter(e=>e.item.toLowerCase().includes(this._searchedItemsValue.toLowerCase()))}get searchedItemsValue(){return this._searchedItemsValue}set searchedItemsValue(e){this._searchedItemsValue=e}load(){const e=localStorage.getItem("myList");if(typeof e!="string")return;JSON.parse(e).forEach(n=>{const s=new _(n._id,n._item,n._checked,n._isImportant,n._date);this.add(s)})}save(){localStorage.setItem("myList",JSON.stringify(this._list))}add(e){this._list.push(e),this.save()}update(e){this._list=this._list.map(t=>t.id===e.id?e:t),this.save()}removeItem(e){this._list=this._list.filter(t=>t.id!==e),this.save()}clear(){this._list=[],this.save()}};h(v,"instance",new v);let I=v;const E=(c,e)=>{var u;const t=document.createElement("div");t.classList.add("over-lay-box");const n=document.createElement("div");n.classList.add("over-lay-message");const s=document.createElement("h3");s.innerHTML=`Are you sure to ${e==="update"?"update":"delete"} <span class="title-span"}>${c}</span>?`;const a=document.createElement("input");a.classList.add("update-input"),a.value=c;const d=document.createElement("div");d.innerHTML=`<button class="yes ${e}">Yes</button><button class="no">No</button>`,n.appendChild(s),e==="update"&&n.appendChild(a),n.appendChild(d),t.appendChild(n),(u=document.getElementById("app"))==null||u.appendChild(t)};function f(c,e="info"){const t=document.getElementById("toast");t.textContent=c,t.className="toast",t.classList.add(e),t.classList.add("show"),t.role="alert",setTimeout(()=>{t.classList.remove("show")},2e3)}const g=()=>{const c=localStorage.getItem("myList");if(typeof c!="string")return;const e=JSON.parse(c),t=e.filter(r=>r._checked),n=e.filter(r=>!r._checked),s=e.filter(r=>r._isImportant);document.querySelectorAll(".all-tasks-count").forEach(r=>r.textContent=e.length.toString()),document.querySelectorAll(".complete-tasks-count").forEach(r=>r.textContent=t.length.toString());let u=document.querySelector(".notcomplete-tasks-count");u.textContent=n.length.toString();let m=document.querySelector(".important-tasks-count");m.textContent=s.length.toString();const l=t.length/e.length||0;document.querySelector(".progress .bar").style.setProperty("width",`${l*100}%`)},k=class k{constructor(){h(this,"ul");this.ul=document.getElementById("list-items")}render(e){if(this.ul.innerHTML="",this.ul.className="tasks-container",e.listItems.length)e.searchedListItems.forEach(t=>{const n=document.createElement("li");n.className=`task ${t.checked?"done-task":""} ${t.isImportant?"important-task":""}`,n.id=t.id;const s=document.createElement("div");s.className="info";const a=document.createElement("input");a.type="checkbox",a.id=t.id,a.tabIndex=0,a.checked=t.checked,a.addEventListener("change",()=>{var p;const o=(p=document.getElementById(t.id))==null?void 0:p.closest(".task");o==null||o.classList.toggle("done-task"),t.checked=!t.checked,e.save(),g()});const d=document.createElement("label");d.htmlFor=t.id,d.textContent=t.item;const u=document.createElement("p");u.className="date",u.textContent=t.date,s.append(a),s.append(d),s.append(u),n.appendChild(s);const m=document.createElement("div");m.className="control";const l=document.createElement("button");l.className=t.isImportant?"important-bttn important":"important-bttn",l.innerHTML='<i class="fa-solid fa-star"></i>',l.ariaLabel="Important Mark Button",l.addEventListener("click",()=>{l.classList.toggle("important");const o=l==null?void 0:l.closest(".task");o==null||o.classList.toggle("important-task"),t.isImportant=!t.isImportant,e.save(),g()}),m.appendChild(l);const i=document.createElement("button");i.id=t.id,i.className="update-bttn",i.innerHTML='<i class="fa-solid fa-pen"></i>',i.ariaLabel="Update Button",i.addEventListener("click",()=>{E(t.item,"update");const o=document.querySelector(".update-input");o.focus(),o.value=t.item,document.querySelectorAll(".over-lay-message button").forEach(p=>p.addEventListener("click",S=>{var b;const y=S.target;o.value&&(y.classList.contains("yes")&&(t.item=o.value,t.date=new Date().toLocaleString(),u.textContent=new Date().toLocaleString(),d.textContent=o.value,e.save(),f(`Task updated to ${o.value} successfully ✏️!`,"warning")),(b=document.querySelector(".over-lay-box"))==null||b.remove())}))}),m.appendChild(i);const r=document.createElement("button");r.className="delete-bttn",r.innerHTML='<i class="fa-solid fa-trash"></i>',r.ariaLabel="Delete Button",r.addEventListener("click",()=>{E(t.item,"delete"),document.querySelectorAll(".over-lay-message button").forEach(o=>o.addEventListener("click",p=>{var y;p.target.classList.contains("yes")&&(e.removeItem(t.id),this.render(e),e.save(),g(),f(`Task ${t.item} deleted successfully ❌`,"error")),(y=document.querySelector(".over-lay-box"))==null||y.remove()}))}),m.appendChild(r),n.appendChild(m),this.ul.appendChild(n)});else{const t=document.createElement("p");t.style.cssText="text-align:center; margin:2rem; color:red; font-size:1.5rem",e.listItems.length?t.textContent="The Item Not Found":t.textContent="The List Is Empty",this.ul.append(t)}}};h(k,"instance",new k);let L=k;const x=()=>{var u,m;const c=window.matchMedia("(prefers-color-scheme: dark)").matches;localStorage.getItem("mode")||localStorage.setItem("mode",c?"dark":"light"),document.body.classList.add(localStorage.getItem("mode")??"");const e=I.instance,t=L.instance;e.load(),t.render(e);const n=document.getElementById("add-entry-task");let s=document.querySelector(".add-task");n.addEventListener("input",()=>{s.disabled=!n.value.trim()}),document.getElementById("taskEntryForm").addEventListener("submit",l=>{l.preventDefault();const i=e.listItems.length?Number(e.listItems[e.listItems.length-1].id)+1:1;let r=n.value;const o=new _(i.toString(),r.slice(0,25));n.value="",n.focus(),s.disabled=!0,e.add(o),t.render(e),f(`Task ${r} added successfully ✅`,"success")}),document.getElementById("search-tasks").addEventListener("input",l=>{const i=l.target;e.searchedItemsValue=i.value,t.render(e)}),(u=document.querySelector(".clear-lst"))==null||u.addEventListener("click",()=>{E("All Tasks","delete"),document.querySelectorAll(".over-lay-message button").forEach(l=>l.addEventListener("click",i=>{var o;i.target.classList.contains("yes")&&(e.clear(),t.render(e),g(),f("The list is cleared successfully ❌","error")),(o=document.querySelector(".over-lay-box"))==null||o.remove()}))}),g(),(m=document.querySelector(".mode"))==null||m.addEventListener("click",()=>{document.body.classList.toggle("dark"),localStorage.getItem("mode")==="light"?localStorage.setItem("mode","dark"):localStorage.setItem("mode","light")})};document.addEventListener("DOMContentLoaded",x);
